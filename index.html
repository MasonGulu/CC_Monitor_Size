<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>ComputerCraft Monitor Size Calculator</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">

    <style>
      body {
        display: flex;
        margin: 20px 10px;
        justify-content: center;
      }

      .form-group {
        display: grid;
        grid-template-columns: 5em 1fr;
        gap: 0.5em 0em;
        align-items: center;
      }

      #container {
        display: flex;
        flex-direction: column;
        gap: 1em;
      }

      #output {
        font-size: 1.5em;
      }
    </style>

  </head>

  <body>
    <div id="container">
      <h1>ComputerCraft Monitor Size Calculator</h1>
      <div class="form-group">
        <label for="sizex">Size X:</label>
        <input type="number" min="1" max="25" name="sizex" id="sizex" value="1">

        <label for="sizey">Size Y:</label>
        <input type="number" min="1" max="25" name="sizey" id="sizey" value="1">

        <label for="scale">Scale:</label>
        <select name="scale" id="scale">
          <option value="0.5">0.5</option>
          <option value="1" selected>1</option>
          <option value="1.5">1.5</option>
          <option value="2">2</option>
          <option value="2.5">2.5</option>
          <option value="3">3</option>
          <option value="3.5">3.5</option>
          <option value="4">4</option>
          <option value="4.5">4.5</option>
          <option value="5">5</option>
        </select>
      </div>
      <div id="output"></div>
    </div>

    <script type="text/javascript">
      console.log("hello?")

      var scale_select = document.getElementById("scale")
      var y_size = document.getElementById("sizey")
      var x_size = document.getElementById("sizex")
      var output = document.getElementById("output")

      function recalculate() {
        var w = x_size.value
        var h = y_size.value
        var scale = Number(scale_select.value)
        var x_char_size = Math.round((64 * w - 20) / (6 * scale))
        var y_char_size = Math.round((64 * h - 20) / (9 * scale))
        output.innerHTML = "Characters: " + x_char_size + " x " + y_char_size + "<br />\"Pixels\": " + x_char_size * 2 + " x " + y_char_size * 3 + ""
      }

      for(var input of [scale_select, x_size, y_size]) {
        input.addEventListener("change", recalculate)
        input.addEventListener("input", recalculate);
      }

      recalculate()
    </script>
  </body>
</html>